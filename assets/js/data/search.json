[ { "title": "Framework under fire for Omarchy/DHH/Hyprland support?", "url": "/posts/Framework-Omarchy/", "categories": "", "tags": "", "date": "2025-10-11 00:00:00 +0300", "snippet": "You might’ve noticed Framework, the laptop manufacturer, embroiled in a controversy as of now. The Discord server is on lockdownbecause the volunteer moderation team has gone on hiatus, and the Fra...", "content": "You might’ve noticed Framework, the laptop manufacturer, embroiled in a controversy as of now. The Discord server is on lockdownbecause the volunteer moderation team has gone on hiatus, and the Framework forum post about the controversy has been gainingunsightly amounts of steam from people disappointed at actions taken by Framework.live Framework community reactionA little context about my involvement - I’ve been in the Framework community since 2022, doing third-partyhardware development and helping others’ projects in the same vein. I’ve also been using a Framework since then,recently upgraded to an AMD board from the 11th gen offering. In general, I’ve been an advocate for Framework’slaptops and mission, in both professional and private circles, given my Framework to others for test-drives,contributed to documentation, and have been the cause for multiple people getting their own Framework laptops.As of end of 2023, I’ve had to shutter my general electronics work, and Framework third-party hardware dev,due to burnout exacerbated by health issues. Thankfully, that seems to be at least partially behind me, and I waslooking forward to rejoining the community in full force. This expectation is one of the most disappointing things for me about the current situation.Recently, I’ve noticed consistent support for Omarchy on Framework social media, specifically, Twitter,as forwarded into the Framework discord channel #social-media, which is one of the few Framework Discord channels I follow.I didn’t know what Omarchy was, so I thought it must be yet another user-friendly distribution, and paid it no mind.As Framework social media support for Omarchy ramped up, I started seeing Omarchy mentioned in negative light,both on the Framework Discord server, and on unrelated servers, brought up often in connection to Framework.Given that I’ve been vocally pro-Framework, I’ve also had multiple people derisively mention the Framework’s affinity to Omarchy to me personally.Surprised, I eventually started asking people and looking up myself, what’s the low-down on Omarchy, and was puzzled to learn that Omarchyis more or less a set of dotfiles/scripts for Arch, the main and biggest problem about them being the loud and visible “by DHH” label.Now, I’ve also heard that DHH is a despicable person, but people say all sorts of stuff, you always gotta check for yourself.The problem was, I’ve already heard about DHH before, and I did check back then.The DHH (D-HH?) partWithout mincing words - DHH is prolific at espousing white nationalist and eugenicist views with a pseudointellectual slant,while trying to pretend he’s doing something else. There’s beenno shortage of postswhere his views and behaviourare either detailed,or mentioned as playing a major role in eventsdestabilizing the open-source software community. Mind you,I’ve learned about him from an unrelated incident on my social feed months before it,because his views seem to have been splitting the Ruby community apartthat badly, too.Being opinionated isn’t a virtue, and it’s easy to fall into hubris, as DHH’s posting demonstrates.I want to get something out of the way first - DHH’s writing is not just espousing white nationalism, transphobia, or eugenics,although from what I and others have seen, it’s doing all of those things.To my eye as a writer, it also appears to be written for a gullible audience.I decided to check the quality of his writing on matters like ADHD, a topic I’ve recently intensively looked into.The best way I could describe it is shlock from a high-horse viewpointthat hits ideological points without attempting to engage with reality as scientifically observed,diagnostic standards as applied by medical professionals, or the large variety of tangible markersthat led the scientific community to designate ADHD as a specific condition with specific symptoms.It boils down to “ADHD gives me the ick, and these few lines from DSM-5 seem sus to me.Differential diagnosis? Brain chemistry differences? idk, stop taking drugs lmao they’re bad mmkay”.In modern terms, DHH is a yapper, parroting topics currently in circulation by a far-right media machine,and I say this because as much as his ADHD views are bullshit, they are not novel,I’ve heard them before, as far as 20 years ago for the ADHD one, and it just so happens that it’s getting reheated and served as of semi-recently.Being a yapper isn’t a crime, neither is saying lots of bullshit, but it does tend to earn you large amounts of derision.Given the radical stances DHH outwardly takes with no care in the world, this is exactly what has been happening.The Framework partIf you know a little bit about PR in social media space, you might note that, right out of the gate,a project by a vocal white nationalist known for splitting communities by their mere presence,is not a great highlight choice for an overtly non-left-right-political company like Framework.Does it get worse from here? Sadly, it does.There has been an outstanding amount of Omarchy highlights on Framework social media within the past month, if not longer.No other distribution seems to have received similar amounts of social media support, and for all its obscurity,Omarchy was all the more noticeable. From a quick check, the Omarchy-DHH links were extremely visible.Naturally, it does not help that Omarchy is very visibly branded “by DHH”. It also doesn’t help that the DHH Rubycommunity drama got big enough to a point where you could learn about it through ambient non-political feed scrolling, just like I did.From a quick social media comment check, Framework social media amounts have received replies talking about DHH being a liabilityunder their Omarchy posts, but they don’t appear to have reacted in any way.At some point recently, the Framework-DHH connection has started boiling over on social media, and became a discourse Topic -together with Hyprland. Apart from general social media backlash, it boiled over intoa Framework forum threadcalled “Framework supporting far-right racists?”. Blunt, but I find it hard to dispute the sentiment. Since I didn’t mentionHyprland before, here’s a little bit about it.Already over a month ago, Omarchy posting in Framework discord elicited a reaction colloquially known as “you posted cringe”.The Hyprland part, in shortHyprland’s main developer and face, Vaxry, got under fire some time ago, for his and others’ posts in Hyprland community,targeting trans people and other minority groups. Generally, the Hyprland community’s low social standards have beena sticking point for Hyprland users for a while, even before the controversy. Just like with Framework, the controversy pointwas reached after long-standing community member dissatisfaction finally boiled over.As of this time, when the Framework forum thread got published, a member of an affected group who did her own research,has asked around and found that, apparently, Vaxry has gotten way better at keeping Hyprland communityclean from harassment and has led to creating a better, no-nonsense atmosphere for vulnerable people since then.From her assessment, Hyprland’s community has improved significantly and is “on a positive trend”: Hyprland’s community is on a positive trend, I wouldn’t consider them like shiny beacon good or anything just yet,but they’ve made positive changes that’re uncommon to see. I still have question marks personally andsome previous incidents are really just Not Good™, but I’m willing to at least offer them the benefit of the doubt,given how things seem to be nowadays. it’s a kinda, watch these guys for 5 years dealI trust her words on that, and if this is true,I don’t think Framework’s Hyprland sponsorship is anywhere as big of a deal as support for Omarchy/DHH.That said, due to factors like negative bias, I can’t in good faith blame people for being disappointed by a Hyprland sponsorship,especially if last they’ve heard of Hyprland is the community controversy - even if I personally wouldn’t go that far with the information that I have now.I also can’t exactly blame people for not wanting if they have been personally affected by the situation, or simplyif they give it more weight than I do, given how outstanding of a community management failure this wascompared to standards upheld by other modern open-source software communities.From what I’ve seen, the main problem people have is the DHH/Omarchy support, with Hyprland support taking the back seatin terms of severity. This reflects thoroughly in the thread, and even in the OP, way more text is dedicated to DHH, so Idon’t think that Hyprland support warrants more explanation than this; most of my post is written concerning Omarchy/DHH supportspecifically.The Framework part - part 2The Framework CEO response has centered on “building a big tent”. It’s been received as an underwhelming one.I think there’s multiple reasons to this.First one I can point out personally, is the sheer amount of PR and otherwise support given to highlighting Omarchy -I’m personally certain that this situation would’ve been 100% avoided if the Framework social media simply mentioned Omarchy less.Omarchy and DHH are well understood to be pretty inseparable, as illustrated, you simply need to look up “Omarchy” online.Compared to other Linux distributions Framework supports, this is outstanding, and Omarchy’s otherwise notable obscurity helpedFramework shine an otherwise unprecedented light on it. With DHH having been mentioned so widely in tech news, this issueboiling over was a matter of time.Another one is heightened political tensions in the Western world, doubly so in English-speaking media,and growing polarization against far-right figures, both in political world and in tech.Framework as a company doesn’t map onto the left-right spectrum, right to repair generally does not -I’d argue that this is to everyone’s benefit. Given this environment, outwardly supporting “OMARCHY by DHH”,aka “${PROJECT} by ${FAR_RIGHT_FIGURE}” who’s already highly controversial in tech communities and in the spotlight as of recent,is objectively a misstep, and a waste of goodwill. Unless Framework aimed to get this sort of publicity, that is, which I doubt.Then there’s the “Nazi bar” problem. Any skilled online community moderators will tell you -far-right people engage in a variety of socially underhanded tactics to gain a footholdin online communities, and it can be costly to root them out. The internet is old enough thata great deal of people have seen this happen to online communities, ruining or splitting them.Why does this matter?A notable far-right presence inevitably results in the community becoming repulsive to a large part of its core audience.It’s happened on Usenet, DC++, IRC, Skype, PHPbb forums, Twitter, Reddit, Discord, and it will keep happening in the future.tfw you’ve seen this happen beforeThis is why you won’t see any socially-recognizable degree of far-right thought expressed openly in any of the big open-source communities;far-right people are present, but they know their views to be sufficiently repulsive to people around them, and people know to clamp downinstinctively on this and other anti-social behaviours. It’s not a great existence for people who need to hide their views, sure,and it can lead to further polarization in some cases, but you genuinely can’t blame other people for being cautious ofverifiably corrosive behaviour. It’s a mechanism of social change that does verifiably work a lot of the time,and it helps people focus on the tech rather than the anti-social nonsense someone decided to start talking about.(If you’re wondering, yeah, that’s just a thing that happens - which is how you have projects like Xlibrestarted by people whose previous claim to fame is getting themselves chewed out by Linus Torvaldsbecause they posted anti-vaccine rants unprompted to the Linux kernel mailing list.)The “big tent” claim, overlaid on with Framework’s outstanding promotion of Omarchy, looks cartoonishly reckless in this light.People don’t want this for Framework, and they’re cautious to distance themselves because they’ve seen other projectsclaim to be a “big tent”, only for the tent to catch on fire, melt, and shrink under everyone’s feet,because nobody used a fire extinguisher when it was early enough to do so.It also does explain thevolunteer Framework server moderation team going on hiatus - moderating becomes a whole different beastwhen your community is made to overlap with another community of an explicitly far-right-led project.In other words, moderation becomes hell if you need start filtering out crypto-fash trying to start shit,as opposed to normal everyday people problems you’d normally deal with.Checking the server logs, the DHH problem has been brought up many times by this point.What does this imply?The above, as below, is my personal observations and others’ observations boiled down in a hopefully accessible form.Here’s what I feel comfortable saying about the implications of the Framework/Omarchy/DHH situation, helped by my background.Sadly, I see this as a net negative for the project. I’ve read through the (by now 900+ message) thread a couple times,checked other social media platforms, and I have seen such situations unfold in the past.Given what I have seen before and what I see now, I’d conclude that this situation hurts Framework’s standingwith “one” side of the political spectrum more than it helps get support from the “opposing” one.I’ve argued in favour of buying Framework for a while now, ever since I got one. One point I’ve consistently encountered is that Framework’s hardwareis not the best bang for the buck. This has been hard to dispute for me - and, I didn’t pick Framework for its hardware performance,either. Framework’s repairability mission instead calls for socially conscious consumption, at a projected tangible benefit to yourselflater on. In other words, if you buy Framework, you contribute towards a world where devices are not designed with planned obsolescence in mind,even if it does visibly hurt your wallet more than a similar-specs computer from Lenovo does.It makes sense that Framework’s audience has a sizeable portion of people who apply those principles of social consciousnessto other political (objectively, not just commonly-discussed “political”) topics, too. For those people, it’s jarring to see Frameworkfervently promote a project so tightly coupled and benefitting a far-right figure. I’ll personally add - much less onewhose actions and reckless/unskilled advocacy result in worse outcomes for open-source software, too. It turns out people have heaps of reasons to really dislike the guy.Hard to defend,Now, recommending Framework on social consciousness grounds has a sudden and significant risk for me,because if someone replies with “well yeah but they do support far-right people”, I am put on the spotwith no good argument apart from pretending I didn’t know (aka lying),and it makes me look like an asshole for even suggesting it.Hardware issues, I could defend from my own laptop repair and electronics development background.Customer support issues, I could defend less, but it was still viable.To this, the only response is possible seems to be “…Yeah” and changing the topic,which obviously makes it a non-starter. In Fallout New Vegas terms, I don’t have the Speech skillfor this kind of speech check, and looking through the thread, people defending Framework’s decision don’t have them, either.Basically, I have no counterargument to offer if someone shuts down a Framework pitch on Omarchy/DHH support grounds,and it’d put me on defense in a way hard to counter or even foresee.This makes it hard for me to even start persuading people who’d normally be easy enough to persuadeto consider Framework for their next laptop, again, socially conscious mission and all.This is no Tesla situation, but to put it simply, I’d struggle recommending it.One another thing Framework looks out to get is a decrease in volunteer support.I have to say that Framework is notable in their support for the project’s volunteers,which is a smart decision for a product with a socially conscious mission.I’d expect at least some people to stick around, purely on the project’s merits.Currently, it does not seem to pan out well, however as far as the volunteer moderation team is concerned -though, again, they have their own very reasonable concerns about overlapping the audience with the Omarchy circles.and honestly just sad.For me, this is disappointing. I see it as a boneheaded move that I think was bound to boil over, and I don’t think could’ve been taken any other way once it did boil over.I think it could’ve been very easily avoided, too. The laptops are nice, the mission is commendable, andI was looking forward to doing more with them. It’s really that this action overshadows way too muchfor many people for barely any benefit in sight.Likewise, it overshadows a ton of Framework’s recent contributions to open-source infrastructure, too.Sadly, I’m experienced enough to know that openly working with a projectintentionally overlapping itself with a far-right audience, even slightly, comes with heaps of negative side effects,directly caused by the ways in which far-right people behave. From the looks of it, plenty of other people are experiencedenough to know better, too." }, { "title": "simple MIDI to list of (frequency, duration) (Python)", "url": "/posts/miditofreqs/", "categories": "", "tags": "", "date": "2025-08-04 00:00:00 +0300", "snippet": "simple MIDI to list of (frequency, duration) (Python)Let’s say, hypothetically, that you have a simple midi file with just notes, for instance, from here.And for the sake of the argument, you have ...", "content": "simple MIDI to list of (frequency, duration) (Python)Let’s say, hypothetically, that you have a simple midi file with just notes, for instance, from here.And for the sake of the argument, you have a MicroPython-controlled device with a buzzer, that you want to play this MIDI on.Wouldn’t it then follow, that you want to convert this midi into something easy to play back?No need to try and use stuff like librosa - the pretty_midi library will do just fine.pip install pretty_midi, thenimport mathimport pretty_midimidi_data = pretty_midi.PrettyMIDI('smasnug.mid')freqs = []prev_end = 0for note in midi_data.instruments[0].notes: delay = note.start - prev_end if delay != 0: #print(delay) freqs.append((0, round(delay, 2)),) #print(note, pretty_midi.note_number_to_hz(note.pitch)) freq = pretty_midi.note_number_to_hz(note.pitch) duration = note.end-note.start freqs.append((round(freq, 2), round(duration, 2)),) prev_end = note.endprint(freqs) # this is our list of freq/durationMicroPython examplepp = Pin(14, Pin.OUT, None)p = PWM(pp)######################################## SMASNUG MODE ACTIVATED#######################################print(\"SMASNUG\")notes = [(659.26, 0.22), (0, 0.08), (880.0, 0.22), (0, 0.08), (880.0, 0.22), (0, 0.07), (1108.73, 0.22), (0, 0.08), (1108.73, 0.22), (0, 0.07), (880.0, 0.6), (659.26, 0.23), (0, 0.08), (659.26, 0.15), (0, -0.15), (659.26, 0.15), (0, 0.15), (659.26, 0.38), (0, 0.08), (659.26, 0.15), (987.77, 0.15), (880.0, 0.15),(830.61, 0.15), (739.99, 0.15), (659.26, 0.52), (0, 0.38), (659.26, 0.22), (0, 0.08), (880.0, 0.22), (0, 0.08), (880.0, 0.3), (1108.73, 0.23), (0, 0.07), (1108.73, 0.23), (0, 0.08), (880.0, 0.45), (0, 0.15), (659.26, 0.22), (0, 0.08), (880.0, 0.23), (0, 0.07), (830.61, 0.3), (739.99, 0.15), (830.61, 0.15), (880.0, 0.23), (0, 0.07), (622.25, 0.3), (659.26, 0.52), (0, 0.38), (659.26, 0.3), (830.61, 0.22), (0, 0.08), (830.61, 0.3), (880.0, 0.15), (830.61, 0.15), (739.99, 0.15), (830.61, 0.15), (880.0, 0.45), (0, 0.15), (659.26, 0.22), (0, 0.07), (880.0, 0.3), (830.61, 0.22), (0, 0.08), (830.61, 0.22), (0, 0.07), (830.61, 0.15), (1174.66, 0.15), (987.77, 0.15), (830.61, 0.15), (880.0, 0.53), (0, 0.38), (880.0, 0.22), (0, 0.08), (739.99, 0.22), (0, 0.07), (739.99, 0.23), (0, 0.07), (739.99, 0.22), (0, 0.08), (880.0, 0.22), (0, 0.07), (880.0, 0.53), (0, 0.07), (659.26, 0.23), (0, 0.07), (659.26, 0.23), (0, 0.07), (659.26, 0.38), (0, 0.07), (659.26, 0.15), (987.77, 0.3), (830.61, 0.3), (880.0, 0.52), (0, 0.38), (880.0, 0.22), (0, 0.07), (830.61, 0.15), (739.99, 0.07), (0, 0.07), (739.99, 0.23), (0, 0.07), (739.99, 0.15), (880.0, 0.15), (830.61, 0.15), (987.77, 0.15), (880.0, 0.52), (0, 0.07), (659.26, 0.23), (0, 0.07), (659.26, 0.23), (0, 0.07), (659.26, 0.38), (0, 0.07), (659.26, 0.15), (987.77, 0.3), (830.61, 0.3), (880.0, 0.6), (0, 0.15), (1108.73, 0.23), (0, 0.07), (1318.51, 0.15), (987.77, 0.15), (1108.73, 0.15), (880.0, 0.15), (739.99, 0.23)]for freq, duration in notes: p.duty_u16(0) if freq == 0: pass else: p.freq(int(freq)) p.duty_u16(4096) sleep(duration)p.duty_u16(0)p.freq(2048)print(\"SMASNUGN'T\")have fun making noises lmaoIf you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "UGREEN CM578 enclosure and WD SN770M incompatibility", "url": "/posts/nvme-enclosure-compat/", "categories": "", "tags": "", "date": "2025-06-29 00:00:00 +0300", "snippet": "UGREEN CM578 enclosure and WD SN770M incompatibilityI was helping a friend set up a WD BLACK SSD (SN770M 2TB, 2230) with a Steam Deck. We put it into a UGREEN enclosure to clone the original driveo...", "content": "UGREEN CM578 enclosure and WD SN770M incompatibilityI was helping a friend set up a WD BLACK SSD (SN770M 2TB, 2230) with a Steam Deck. We put it into a UGREEN enclosure to clone the original driveonto the new drive. However, the enclosure didn’t recognize the drive - the enclosure wouldn’t show up as a USB device for about 10-20 seconds, and then,it’d enumerate as a 0-byte storage device.This was weird - the drive was newly purchased, it was quite unlikely it’d be broken. However, it didn’t work in (identical, same UGREEN) enclosures.As a hail mary, we put it into the Steam Deck - and the drive showed up properly in BIOS settings overview.Mind you - the Steam Deck booted into a black screen, seemingly, because the drive was empty; we had to press some buttons to have itboot into BIOS UI to see the drive show up.Enclosure lsusb:0bda:9210 Realtek Semiconductor Corp. RTL9210 M.2 NVME AdapterEnclosure name: UGREEN NVMe M.2 USB 3.2 SSD Enclosure Adapter with Cooling Pad ; model number seems to be CM578So, tl;dr if this NVMe enclosure (or some other enclosure based on similar chip) doesn’t work for you, fret not -it might be that it’s just not up to date enough to support your NVMe drive.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "Logitech M185 pairs to Unifying receiver", "url": "/posts/m185_unifying/", "categories": "", "tags": "", "date": "2024-06-16 00:00:00 +0300", "snippet": "Logitech M185 pairs to Unifying receiverThat’s it, that’s the post. If you’re on Linux, here’sa pairing tool, it’s worked wonderfully for me.If you think that this is bad advice, contact me somehow...", "content": "Logitech M185 pairs to Unifying receiverThat’s it, that’s the post. If you’re on Linux, here’sa pairing tool, it’s worked wonderfully for me.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "Got mmtool from bittention? It's malware", "url": "/posts/bittention_malware/", "categories": "", "tags": "", "date": "2024-06-16 00:00:00 +0300", "snippet": "Got mmtool from bittention? It’s malwarethere’s a website called bittention and a friend is calling to my attention tthat they found malware on it.they downloaded a binary called mmtool from it, on...", "content": "Got mmtool from bittention? It’s malwarethere’s a website called bittention and a friend is calling to my attention tthat they found malware on it.they downloaded a binary called mmtool from it, only to find that it was infected with all sorts of only recently discovered malwares and virii and troyans and whatnot.they computer has been burning for seven hours straight please send helpget your clean mmtool from herealso mmtool will not ask for UAC lmao" }, { "title": "KiKit discontinuous outline unobvious stuff", "url": "/posts/kikit-discont-outline/", "categories": "", "tags": "", "date": "2024-06-13 00:00:00 +0300", "snippet": "KiKit discontinuous outline unobvious stuffWorking with KiKit? It’s great, and this problem ain’t its fault, I’d hope.If your board has a footprint with origin far outside of the board area, KiKit ...", "content": "KiKit discontinuous outline unobvious stuffWorking with KiKit? It’s great, and this problem ain’t its fault, I’d hope.If your board has a footprint with origin far outside of the board area, KiKit will not pick it up.In turn, if this footprint constitutes part of your outline, that’s going to generate a “discontinuous outline” problem,and KiKit will stall before even starting to generate anything, leaving you with an empty page and no hints.Solution? In the Source tab, set tolerance to a higher value than 1mm.{ \"source\": { \"tolerance\": \"10mm\" }}Of course, there’s a few ways that a discontinuous outline bug might happen.Read through these issues to learn more.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "DPCD viewing on Linux", "url": "/posts/dpcd_viewing/", "categories": "", "tags": "", "date": "2024-06-13 00:00:00 +0300", "snippet": "DPCD viewing on LinuxYou can read DPCD registers from Linux like this:sudo xxd /dev/drm_dp_aux0 |head -n128|grep -v \"0000 0000 0000 0000 0000 0000 0000 0000\"of course, substitute the number as need...", "content": "DPCD viewing on LinuxYou can read DPCD registers from Linux like this:sudo xxd /dev/drm_dp_aux0 |head -n128|grep -v \"0000 0000 0000 0000 0000 0000 0000 0000\"of course, substitute the number as needed.Does this give you an Input/output error, like on a Framework laptop’s display? Try this then,this example reads the 0x100 register to see the DP link state:sudo dd if=/dev/drm_dp_aux0 bs=1 skip=256 count=16 |xxdWant register descriptions? Page 16in this Intel docis a good start, and so is a document you can find by searching ug_displayport.pdf filetype:pdf.Surely, you can also use the same interface to poke at DPCD and do AUX stuff;this article is just “how to get DisplayPort link values like current and possible link width”.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "KiKit (and other plugins) failing to load on Kicad 8.0.0/8.0.1, Debian/Ubuntu", "url": "/posts/kicad8-ubuntu-kikit/", "categories": "", "tags": "", "date": "2024-04-27 00:00:00 +0300", "snippet": "KiKit (and other plugins) failing to load on Kicad 8.0.0/8.0.1, Debian/Ubuntupcbnew module not found kinda error when you try kikit --help in commandline.the pcbnew.py file is misplaced.,so is its ...", "content": "KiKit (and other plugins) failing to load on Kicad 8.0.0/8.0.1, Debian/Ubuntupcbnew module not found kinda error when you try kikit --help in commandline.the pcbnew.py file is misplaced.,so is its corresponding compiled file.sudo cp /usr/lib/python3.8/site-packages/pcbnew.py /usr/local/lib/python3.8/dist-packages/sudo cp /usr/lib/python3.8/site-packages/_pcbnew.so /usr/local/lib/python3.8/dist-packages/also, you might need to yeet the old pcbnewTransition.py files.rm -vr .local/lib/python3.8/site-packages/pcbnewTransition*now import pcbnew will fail cuz missing pcbnewTransition, but you can dopython3 -m pip install kikitand that will reinstall the deleted file lol.also, cheat: reinstalling kikit from repo is as simple as make install, it appears.TODO: socially acceptable ways to rant about problems with open-source software bs" }, { "title": "FreeCAD AppImage crashing", "url": "/posts/freecad-appimage-crashing/", "categories": "", "tags": "", "date": "2024-03-04 00:00:00 +0200", "snippet": "FreeCAD AppImage crashingAll recent FreeCAD AppImages started suddenly crashing on Ubuntu with this kind of output: FreeCAD 0.21.2, Libs: 0.21.2R33771 (Git) © Juergen Riegel, Werner Mayer, Yo...", "content": "FreeCAD AppImage crashingAll recent FreeCAD AppImages started suddenly crashing on Ubuntu with this kind of output: FreeCAD 0.21.2, Libs: 0.21.2R33771 (Git) © Juergen Riegel, Werner Mayer, Yorik van Havre and others 2001-2023 FreeCAD is free and open-source software licensed under the terms of LGPL2+ license. FreeCAD wouldn't be possible without FreeCAD community. ##### #### ### #### # # # # # # # ## #### #### # # # # # #### # # # # # # # ##### # # # # #### #### # # # # # # # # # # # # # # ## ## ## # # #### #### ### # # #### ## ## ## MESA-LOADER: failed to open iris: /usr/lib/dri/iris_dri.so: cannot open shared object file: No such file or directory (search paths /usr/lib/x86_64-linux-gnu/dri:\\$${ORIGIN}/dri:/usr/lib/dri, suffix _dri) failed to load driver: iris MESA-LOADER: failed to open iris: /usr/lib/dri/iris_dri.so: cannot open shared object file: No such file or directory (search paths /usr/lib/x86_64-linux-gnu/dri:\\$${ORIGIN}/dri:/usr/lib/dri, suffix _dri) failed to load driver: iris MESA-LOADER: failed to open swrast: /usr/lib/dri/swrast_dri.so: cannot open shared object file: No such file or directory (search paths /usr/lib/x86_64-linux-gnu/dri:\\$${ORIGIN}/dri:/usr/lib/dri, suffix _dri) failed to load driver: swrast WebEngineContext used before QtWebEngine::initialize() or OpenGL context creation failed. QGLXContext: Failed to create dummy context Failed to create OpenGL context for format QSurfaceFormat(version 2.0, options QFlags&lt;QSurfaceFormat::FormatOption&gt;(), depthBufferSize 24, redBufferSize -1, greenBufferSize -1, blueBufferSize -1, alphaBufferSize -1, stencilBufferSize 8, samples 0, swapBehavior QSurfaceFormat::DefaultSwapBehavior, swapInterval 1, colorSpace QSurfaceFormat::DefaultColorSpace, profile QSurfaceFormat::NoProfile) /tmp/.mount_FreeCA6LHmxP/AppRun: line 43: 6933 Aborted (core dumped) ${MAIN} \"$@\"This thread gave me a good tip for my 11th gen Intel CPU: LD_PRELOAD=/usr/lib/x86_64-linux-gnu/dri/iris_dri.so ./Your***FreeCAD****.AppImageThere’s also some more info in this thread.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "Solderable standoffs on LCSC", "url": "/posts/LCSC-Solderable-Standoffs/", "categories": "", "tags": "", "date": "2024-01-19 00:00:00 +0200", "snippet": "Solderable standoffs on LCSCWant solderable standoffs from LCSC? They might not be easy to find. However, use the search term SMTSO and you will find a surprising number.In addition, here’s three c...", "content": "Solderable standoffs on LCSCWant solderable standoffs from LCSC? They might not be easy to find. However, use the search term SMTSO and you will find a surprising number.In addition, here’s three categories that I’ve found them appear in:first,second,third.Also lmao look at these threaded inserts that have nodatasheet or parameters listed, and use stock pictures. Me, I’m tempted to buy some just to see what they’re like!Hope this helps. Cheers!As usual, for any notes, contact me somehow and let me know." }, { "title": "MPR121 being funky? Change the baseline!", "url": "/posts/mpr121_funk/", "categories": "", "tags": "", "date": "2024-01-13 00:00:00 +0200", "snippet": "MPR121 being funky? Change the baseline!Are you working with MPR121? Does it at times start being screwy, having one channel get jammed, or another become unresponsive?Congrats, you’ve stumbled ont...", "content": "MPR121 being funky? Change the baseline!Are you working with MPR121? Does it at times start being screwy, having one channel get jammed, or another become unresponsive?Congrats, you’ve stumbled onto this IC being too smart for its own good! Here’s the deal.MPR121 is a wonderful capacitive touch sensing IC. It can do so much for you - all of that automatically, too. One of the things it does, is ongoing baseline calibration. It can adjust to electrode capacity changing over time, so that even if you go into different environment, your touches still get registered. Well, this is the norm for any self-respecting IC, but I digress. Also, this means it can adjust to you hotplugging electrodes! Very cool and all. What if you have a stable electrode configuration (say, all of your bananas and apples are already connected with jumper wires) and it glitches in some way, as it seems to often happen with mine?I’m not as skilled as the engineers who designed this IC. Nevertheless, it looks to me that this baseline adjustment happens way too quickly - which makes sense, but also isn’t always desired. Obviously, it also happens while you’re touching it, not just over longer periods of time accumulated. I’ve been reading baseline values out of registers while touching the pads and looking out for any screwy behaviour, and it seems to me that this is what’s responsible for false positive / negative / inverted (!) keypress registration I’ve been dealing with.What can you do? Well, you can have the IC calibrate for a certain baseline, and then lock that baseline in - disabling baseline tracking. For this, you need to change what values get written into the ECR (0x5E) register - this register controls baseline tracking, aka whether the baseline gets adjusted on an ongoing basis.For the MicroPython library, this is simple - change CL bits, so, write 0b01 into CL bits of the ECR reg.Look at the page 16 of the datasheet to learn more. Here’s how it looks for me:# init as usualmpr = mpr121.MPR121(i2c0, 0x5a)# idk have the baseline establish itself? prolly unnecessary or too longsleep(3)# disabling the IC - stop mode. don't recall why but this is what works for me at the moment, won't test further.mpr._register8(mpr121.MPR121_ELECTRODE_CONFIG, 0b00000000)# idk why this sleep eithersleep(0.1)# enabling the IC with baseline tracking stopped and current baseline locked inmpr._register8(mpr121.MPR121_ELECTRODE_CONFIG, 0b01001111)# idk why this sleep either lmaosleep(0.1)# sketch to read baseline and filtered values and also state:a = [mpr.baseline_data(i) for i in range(0, 12)]b = [mpr.filtered_data(i) for i in range(0, 12)]print(a, b, mpr.touched())# \"while True:\" as needed if you want continuous output for debugging purposesTested, works for me, keeps the buttons functional within half a day’s period. Maybe recalibrate it every now and then by writing the default 0b10 into the register? I don’t, and still my problems got solved with this, hopefully yours will too!This assumes your electrodes are already attached. If you’re fiddling with electrodes, don’t disable baseline tracking, that’s what it’s there for lmao. I got an idea - if you expect to fiddle with electrodes, you can add a button to your project, that will enable baseline tracking while you press it, and disable it once you release it, a “recalibrate” kinda button. Honestly, might just add this to my code.If you’re using a MicroPython library for MPR121, it might just preserve any changes for you.Adafruit libraries need to be hacked for this, though.Oh also if you’re wondering about MPR121 LED driving ability, it’s there, just that you need to check appnoteAN3894 to learn about it.Now onto figuring out why IRQ doesn’t work for me, did I burn out some GPIOs yet again somehow…" }, { "title": "Laptop with missing internal LVDS screen won't output console to external screen properly", "url": "/posts/laptopreuse_lcd_fix/", "categories": "", "tags": "", "date": "2023-09-17 00:00:00 +0300", "snippet": "Laptop with missing internal LVDS screen won’t output console to external screen properlyYou take a laptop motherboard that doesn’t have a screen, then connect it to an external screen. Then, you d...", "content": "Laptop with missing internal LVDS screen won’t output console to external screen properlyYou take a laptop motherboard that doesn’t have a screen, then connect it to an external screen. Then, you decide you’d rather run a framebuffer application - like tmux or irssi. However, the text’s stretched out or just takes a part of the screen. You could even say that, even though the original LCD panel is no longer connected, it still impacts the image on the external monitor in the same way. What gives?Other symptoms: vga= parameter not working anymore screen resolution is limited to the panel’s original resolution it’s probably a limitation that’s either coded into the BIOS or into the built-in graphics processor firmware (through the BIOS) Linux GUI recognizes the externally connected screen and the missing internal screen as a single device so, resolution is limited to 640x480 or 800x600 or 1280x800 or somethingSolutions that don’t work: changing framebuffer drivers might not help you there - I haven’t tried GFXMODE will not help you there neither will vga= , and it’s also outdated X server switches to the right resolution for the external screen Linux framebuffer is not as sophisticated and will not work with the right resolution, thoughHere’s how it might look:~{}(/assets/img/230917_laptopscrfix/0.jpg)Other possibility is that your console will be scaled way up compared to the acttual resolution of your external screen.Here’s an explanation: your laptop expects a screen that’s not there but the firmware pretends it’s there. Framebuffer console uses the lowest possible resolution out of all available screens, so it ends up being limited to the hardcoded resolution of the internal screen.The fix is to disable the built-in panel interface using a kernel parameter:video=LVDS-1:dAdd this to your GRUB_CMDLINE_LINUX= and regenerate grub config, or append it to kernel params while booting in the grub menu, boot with it, voila.Tested on: some Toshiba Satellite motherboard with missing screen EEE PC 701 motherboard DN2800MT motherboard (built-in graphics prevent the external screens from even initializing if you don’t blacklist the LVDS panel)eDP screens don’t tend to suffer from this because the AUX connection is required for the panel to function, and it can also provide autodetection. The EDID mechanism is optional for LVDS panels, however, so laptop manufacturers often hardcode the panel resolution." }, { "title": "ENOMEM when using urequests on MicroPython", "url": "/posts/uPy_HTTPS_ENOMEM/", "categories": "", "tags": "", "date": "2023-07-17 00:00:00 +0300", "snippet": "ENOMEM when using urequests on MicroPythonIf you’re making https requests with the MicroPython requests module, you might encounter ENOMEM errors. For me, they appeared after every 2nd request to a...", "content": "ENOMEM when using urequests on MicroPythonIf you’re making https requests with the MicroPython requests module, you might encounter ENOMEM errors. For me, they appeared after every 2nd request to a different HTTPS endpoint - first endpoint request would always succeed. Weird stuff. Anyway, go get your own copy of the requests library from the MicroPython repo, and find where the requests function is returninga Request object. Library download link hereYou’ll notice that, before it, there are a bunch of error cases, and the socket is closed in case of those. In case of a successful HTTP response, however, the socket is not closed.Close it. resp = Response(s) resp.status_code = status resp.reason = reason if resp_d is not None: resp.headers = resp_d + s.close() return respI have no idea what the side effects are - my device is a throwie, it will reset itself if the code fails. I do know that this made the ENOMEM error disappear.After modifying this, upload this onto your device, and make sure that it is called instead of the builtin - I named my lib urequests.py and did import urequests. gl.If you think that this is bad advice, contact me somehow and let me know. Cheers!" }, { "title": "ASM118x chip notes", "url": "/posts/ASM118x/", "categories": "", "tags": "", "date": "2023-04-09 00:00:00 +0300", "snippet": "ASM1182/ASM1184/ASM1187 chip notesThese are cool cheapish PCIe switches, 1 to 2/4/7 links accordingly. They’re used in many places, from mining equipment to desktop motherboards.I describe them a b...", "content": "ASM1182/ASM1184/ASM1187 chip notesThese are cool cheapish PCIe switches, 1 to 2/4/7 links accordingly. They’re used in many places, from mining equipment to desktop motherboards.I describe them a bit in a Hackaday article.There is not much documentation on them - I wanna aggregate whatever is available, on a single page.They all seem to need a 1.2V source. No idea how much current tho.KiCad package for the ASM1184 is Package_DFN_QFN:QFN-64-1EP_9x9mm_P0.5mm_EP5.2x5.2mm.None of them have datasheets that I’ve seen - things like the I2C registers remain a mystery. Got one? Please let me know!Info about ASM1182: This laptop schematic PDF. It also has some info on strap pins!Info about ASM1184: This schematic PDF This blog post - the associated GitHub repo also has KiCad files!! Also, from the aforementioned blog post - apparently, there’s an EasyEDA symbol for this chip?Info about ASM1187: A desktop motherboard boardviewAll of them, you can find on Aliexpress.What we could use: Datasheets I2C register mapsGot more info? Contact me through one of the ways you can find.Pic credit to [AMD Outside]." }, { "title": "VL170 chip notes", "url": "/posts/VL170/", "categories": "", "tags": "", "date": "2022-11-22 00:00:00 +0200", "snippet": "VL170 chip notesupdate: this chip is a clone of HD3SS460, so if you need an actual datasheet, you might want to consult that one -there’s way more to this IC, it would seem, including a ton of swit...", "content": "VL170 chip notesupdate: this chip is a clone of HD3SS460, so if you need an actual datasheet, you might want to consult that one -there’s way more to this IC, it would seem, including a ton of switching modes? even setting two of the control pinsinto mid-level between GND and VCC to work? o_oalso, if you need a symbol and an example board, see here somewhereIt can be hard to find USB-C chips doing specifically what you need to do. I’d like to bring news about the chip called VL170,that lets you do a USB-C host or device port with DP and USB3 highspeed lanes easily. Specifically, it lets you do either USB3 + DisplayPort 2-lane,or DisplayPort 4-lane, switching the high-speed lanes between USB-C port lanes in whichever way you want.On the device side, if you’re implementing a fixed USB3 + DP arrangement, you typically don’t need this; that said, it might still behandy if for some reason, you’d like to be able to do both 4-lane and 2-lane+USB3 on your device’s TypeC port.There’s no CC handling on this chip. That’s great for me cuz I’ll be doing that externally. It takes three GPIOs from an MCU,EN, POL (polarity? USB-C port HS signal flipping?) and AMSEL. AMSEL seems to switch between “two-lane DP+USB3” and “four-lane DP”?You can buy these on Aliexpress, and mebbe Taobao. Not on LCSC. Weh!First page is the VIA page, which tells us the device is EOL. Whatever.Then, there’s the “VIA IC” page, whatever that site is.There’s no datasheet as far as I’ve looked. However! There’s this page, and it gave me some PNGs! Here they are:This page also gave me some product brief comparisons.Looks like the VL171 is the same chip but lower insertion loss. Is nice!Want a simple DP-only reference design? Here you go!The chip actually seems to do bidirectional translation of DP and USB3, which is a joy!Do you need to cross USB3 signals over, aka, is this device-side or host-side TX and RX naming? No idea! Do look into that, mebbe can tell from VIA’s reference board screenshots!" } ]
